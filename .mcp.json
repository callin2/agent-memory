{
  "$schema": "https://raw.githubusercontent.com/anthropics/claude-code/main/.mcp.schema.json",
  "mcpServers": {
    "memory-system": {
      "$comment": "Using shell wrapper to load PATH (tsx is installed locally)",
      "command": "${SHELL:-/bin/bash}",
      "args": ["-l", "-c", "exec npx tsx src/mcp/memory-server.ts"],
      "env": {
        "PGHOST": "localhost",
        "PGPORT": "5432",
        "PGDATABASE": "agent_memory_dev",
        "PGUSER": "agent_mem_dba",
        "PGPASSWORD": "${PGPASSWORD}"
      }
    },
    "context7": {
      "$comment": "Using shell wrapper to load PATH (fixes npx bash function issue). Use .mcp.windows.json for Windows.",
      "command": "${SHELL:-/bin/bash}",
      "args": ["-l", "-c", "exec npx -y @upstash/context7-mcp@latest"]
    }
  },
  "staggeredStartup": {
    "enabled": true,
    "delayMs": 500,
    "connectionTimeout": 15000
  }
}
